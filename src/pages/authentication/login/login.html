<!--
   Generated template for the Login page.

   See http://ionicframework.com/docs/v2/components/#navigation for more info on
   Ionic pages and navigation.
   -->
<ion-header>
   <ion-navbar color="danger">
      <button ion-button menuToggle>
         <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title text-center *ngIf="!values.isLoggedIn">{{HeaderText}}</ion-title>
      <ion-title *ngIf="values.isLoggedIn" text-center>Profile</ion-title>
      <ion-buttons  *ngIf="values.isLoggedIn" end>
         <button ion-button icon-only (click)="logOut()">
            <ion-icon name="md-log-out"></ion-icon>
         </button>
      </ion-buttons>
   </ion-navbar>
</ion-header>
<ion-content class="login">

<div class="login-content" *ngIf="!values.isLoggedIn && !_showSignup">
   <div>
      <img src="assets/images/logo.png">
   </div>

  <div class="margin">
    <form #f="ngForm" class="login">
      <ion-list>

        <ion-item>
          <ion-input required type="email" [(ngModel)]="form.email" name="firstname" placeholder="E-mail">
          </ion-input><ion-icon name="md-mail" item-left></ion-icon>
        </ion-item>

        <ion-item>
          <ion-input required type="password" [(ngModel)]="form.password" name="password" placeholder="Password">
          </ion-input><ion-icon name="md-key" item-left></ion-icon>
        </ion-item>

        <h2 tappable (click)="forgotten()">Forgot Password?</h2>

      </ion-list>

      <button ion-button block color="button-color" type="submit" class="button button-block button-default" text-uppercase [disabled]="disableSubmit" (click)="login()">LogIn
      </button>


      <ion-row>
        <ion-col>
                <button ion-button block style="background-color: #3B5998; color: #fff" type="submit" class="button button-block button-default" text-uppercase [disabled]="disableSubmit" (click)="facebookLogin()">
                <ion-icon item-left style="color:#fff; padding-right: 5px;" ios="logo-facebook" md="logo-facebook"></ion-icon>
                 Facebook
            </button>

        </ion-col>
        <!--ion-col>
                <button ion-button block style="background-color: #d34836; color: #fff" type="submit" class="button button-block button-default" text-uppercase [disabled]="disableSubmit" (click)="gmailLogin()">
                <ion-icon style="color:#fff; padding-right: 5px;" ios="logo-google" md="logo-google"></ion-icon>
                 Google
            </button>

        </ion-col>
         <ion-col>
                <button ion-button block style="background-color:#00aced; color: #fff" type="submit" class="button button-block button-default" text-uppercase [disabled]="disableSubmit"
                (click)="twLogin()">
                <ion-icon item-left style="color:#fff; padding-right: 5px;" ios="logo-twitter" md="logo-twitter" ></ion-icon>
                 Twitter
            </button>

        </ion-col-->
      </ion-row>


      <br>
      <br>
      <hr>
      <br>

      <button ion-button block clear type="submit" class="button button-block button-default or-button" text-uppercase style="color: #999;">Or
      </button>

      <h3 tappable>New User? <span tappable style="color: red" (click)="showSignup()">Register</span> Here</h3>

      <br>

    </form>
    <br>
    </div>
    </div>


     <div *ngIf="!values.isLoggedIn && _showSignup" class="account-register">
    <form #f="ngForm">
      <ion-list>
        <ion-item>
          <ion-label floating>First Name
          </ion-label>
          <ion-input type="text" [(ngModel)]="form.firstName" name="firstname">
          </ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Last Name
          </ion-label>
          <ion-input type="text" [(ngModel)]="form.lastName" name="lastname">
          </ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Email
          </ion-label>
          <ion-input type="email" [(ngModel)]="form.email" name="Email">
          </ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Password
          </ion-label>
          <ion-input type="password" [(ngModel)]="form.password" name="password">
          </ion-input>
        </ion-item>
      </ion-list>
        <div  class="margin">
            <h2>{{errorRegisterMessage}}
            </h2>
        </div>


      <div class="margin">
        <button ion-button block color="button-color" type="submit" class="button button-block button-default" text-uppercase [disabled]="disableSubmit" (click)="register()">Register
        </button>
      </div>
    </form>
  </div>



   <div *ngIf="values.isLoggedIn && userProfiles" style="height: 100%;">
      <ion-list style="margin:15px 0 0 0;font-family: Arial ">
         <div *ngIf="userProfiles.photoURL" class="profile-image">
            <img src="{{userProfiles.photoURL}}" width="80" height="80" style="display: block; margin-left: auto; margin-right: auto;">
         </div>
         <div *ngIf="!userProfiles.photoURL" class="profile-image">
            <img src="{{values.avatar}}" width="80" height="80" style="display: block; margin-left: auto; margin-right: auto;">
         </div>
      </ion-list>
      <hr>
      <ion-list inset>
         <button ion-item (click)="address(userProfiles)">
            <ion-icon item-start ios="ios-person" md="md-person"></ion-icon>
            {{userProfiles.displayName}}
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item *ngIf="userProfiles.email">
            <ion-icon item-start ios="ios-mail" md="md-mail"></ion-icon>
            {{userProfiles.email}}
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item (click)="address(userProfiles)" *ngIf="!userProfiles.displayName">
            <ion-icon item-start ios="ios-person" md="md-person"></ion-icon>
            Add you Name:
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item *ngIf="!userProfiles.email">
            <ion-icon item-start ios="ios-mail" md="md-mail"></ion-icon>
            Add Email ID:
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item (click)="address(userProfiles)" *ngIf="userProfiles.phoneNumber">
            <ion-icon item-start ios="ios-phone-portrait" md="md-phone-portrait"></ion-icon>
            {{userProfiles.phoneNumber}}
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item (click)="myOrder()">
            <ion-icon item-start ios="md-list" md="md-list"></ion-icon>
            My Order
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item (click)="address(userProfiles)" *ngIf="userProfiles.address">
            <ion-icon item-start ios="ios-create" md="md-create"></ion-icon>
            Address: {{userProfiles.address}}
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item (click)="address(userProfiles)" *ngIf="!userProfiles.phoneNumber">
            <ion-icon item-start ios="ios-phone-portrait" md="md-phone-portrait"></ion-icon>
            Add Phone Number
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
         <button ion-item (click)="address(userProfiles)"  *ngIf="!userProfiles.address">
            <ion-icon item-start ios="ios-create" md="md-create"></ion-icon>
            Add Address
            <ion-icon item-right hideWhen="ios" class="ion-ios-arrow-forward item-icon"></ion-icon>
         </button>
      </ion-list>
   </div>
</ion-content>
